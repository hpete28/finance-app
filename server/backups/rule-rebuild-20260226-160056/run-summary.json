{
  "artifact_dir": "D:\\finance-app\\server\\backups\\rule-rebuild-20260226-160056",
  "before": {
    "metrics": {
      "generated_at": "2026-02-26T21:02:06.569Z",
      "transactions_total": 10555,
      "transactions_uncategorized": 1052,
      "transactions_transfer": 1921,
      "transactions_excluded": 1922,
      "rules_total": 813,
      "rules_enabled": 813,
      "rules_manual": 701,
      "rules_learned": 112,
      "rules_learned_enabled": 112,
      "income_taxes": {
        "id": 10,
        "name": "Income Taxes",
        "is_income": 0
      },
      "top_categories": [
        {
          "category": "CC Payment",
          "n": 1857
        },
        {
          "category": "(uncategorized)",
          "n": 1052
        },
        {
          "category": "Amazon",
          "n": 987
        },
        {
          "category": "Shopping & Home",
          "n": 878
        },
        {
          "category": "Groceries & Pharmacy",
          "n": 706
        },
        {
          "category": "Income",
          "n": 685
        },
        {
          "category": "Insurance & Benefits",
          "n": 681
        },
        {
          "category": "Auto & Transportation",
          "n": 652
        },
        {
          "category": "Dining",
          "n": 524
        },
        {
          "category": "Investments",
          "n": 432
        },
        {
          "category": "Costco",
          "n": 374
        },
        {
          "category": "E-Transfers",
          "n": 287
        },
        {
          "category": "Bank Fees",
          "n": 248
        },
        {
          "category": "Utilities & Taxes",
          "n": 244
        },
        {
          "category": "Travel",
          "n": 223
        },
        {
          "category": "Health & Medical",
          "n": 182
        },
        {
          "category": "Housing & Mortgage",
          "n": 156
        },
        {
          "category": "Property Tax",
          "n": 150
        },
        {
          "category": "Travel - $US",
          "n": 121
        },
        {
          "category": "Travel - Entertainment",
          "n": 53
        }
      ]
    },
    "lint_summary": {
      "scope": "all",
      "total_rules_in_scope": 813,
      "enabled_rules_in_scope": 813,
      "duplicate_signature_groups": 18,
      "cross_category_conflicts": 5,
      "broad_token_violations": 24,
      "missing_income_sign_guard": 20,
      "predicted_blast_rules": 80,
      "blocked_income_assignments": 91,
      "risk_score": 0,
      "generated_at": "2026-02-26T21:01:39.127Z"
    }
  },
  "operations": {
    "reset": {
      "latest_archive_batch": {
        "archive_batch_id": "2026-02-26T21:02:19.957Z::2488e697-6219-4777-aee7-f398d77f29f1",
        "archived_at": "2026-02-26 21:02:19"
      },
      "archived_rows": 112
    },
    "rebuild_preview": {
      "run_id": 1,
      "suggestions_count": 126,
      "trusted_rows": 6793
    },
    "rebuild_apply": {
      "run_id": 2,
      "created": 126,
      "skipped": 0
    },
    "apply_dry_run": {
      "category_updates": 7,
      "blocked_income_assignments": 0,
      "scanned": 8627
    },
    "apply_live": {
      "category_updates": 7,
      "blocked_income_assignments": 0,
      "scanned": 8627
    }
  },
  "after": {
    "metrics": {
      "generated_at": "2026-02-26T21:05:48.080Z",
      "transactions_total": 10555,
      "transactions_uncategorized": 1052,
      "transactions_transfer": 1921,
      "transactions_excluded": 1922,
      "rules_total": 939,
      "rules_enabled": 809,
      "rules_manual": 701,
      "rules_manual_enabled": 683,
      "rules_learned": 238,
      "rules_learned_enabled": 126,
      "income_taxes": {
        "id": 10,
        "name": "Income Taxes",
        "is_income": 0
      },
      "top_categories": [
        {
          "category": "CC Payment",
          "n": 1857
        },
        {
          "category": "(uncategorized)",
          "n": 1052
        },
        {
          "category": "Amazon",
          "n": 987
        },
        {
          "category": "Shopping & Home",
          "n": 878
        },
        {
          "category": "Groceries & Pharmacy",
          "n": 706
        },
        {
          "category": "Income",
          "n": 685
        },
        {
          "category": "Insurance & Benefits",
          "n": 681
        },
        {
          "category": "Auto & Transportation",
          "n": 652
        },
        {
          "category": "Dining",
          "n": 520
        },
        {
          "category": "Investments",
          "n": 432
        },
        {
          "category": "Costco",
          "n": 374
        },
        {
          "category": "E-Transfers",
          "n": 287
        },
        {
          "category": "Utilities & Taxes",
          "n": 251
        },
        {
          "category": "Bank Fees",
          "n": 248
        },
        {
          "category": "Travel",
          "n": 222
        },
        {
          "category": "Health & Medical",
          "n": 182
        },
        {
          "category": "Housing & Mortgage",
          "n": 156
        },
        {
          "category": "Property Tax",
          "n": 150
        },
        {
          "category": "Travel - $US",
          "n": 121
        },
        {
          "category": "Travel - Entertainment",
          "n": 53
        }
      ]
    },
    "lint_summary": {
      "scope": "all",
      "total_rules_in_scope": 939,
      "enabled_rules_in_scope": 809,
      "duplicate_signature_groups": 0,
      "cross_category_conflicts": 5,
      "broad_token_violations": 0,
      "missing_income_sign_guard": 13,
      "predicted_blast_rules": 80,
      "blocked_income_assignments": 0,
      "risk_score": 15,
      "generated_at": "2026-02-26T21:05:21.138Z"
    }
  },
  "delta": {
    "uncategorized_change": 0,
    "rules_total_change": 126,
    "rules_enabled_change": -4,
    "learned_enabled_change": 14,
    "duplicate_signature_groups_change": -18,
    "broad_token_violations_change": -24,
    "missing_income_sign_guard_change": -7,
    "blocked_income_assignments_change": -91,
    "risk_score_change": 15,
    "live_category_updates": 7,
    "live_blocked_income_assignments": 0
  }
}